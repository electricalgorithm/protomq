<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ProtoMQ â€” Type-Safe MQTT with Protobuf</title>
  <meta name="description" content="ProtoMQ is a high-performance MQTT broker that enforces Protobuf schemas at the broker layer. Stop sending bloated JSON over the wire." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg:        #0d0f14;
      --surface:   #13161e;
      --border:    #1e2330;
      --accent:    #6c8eff;
      --accent2:   #a78bfa;
      --green:     #34d399;
      --muted:     #6b7280;
      --text:      #e2e8f0;
      --text-dim:  #94a3b8;
      --radius:    12px;
      --font:      'Inter', sans-serif;
      --mono:      'JetBrains Mono', monospace;
    }

    html { scroll-behavior: smooth; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: var(--font);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    /* â”€â”€ Nav â”€â”€ */
    nav {
      position: sticky; top: 0; z-index: 100;
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 clamp(1.5rem, 5vw, 4rem);
      height: 60px;
      background: rgba(13,15,20,.8);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
    }
    .nav-logo {
      font-weight: 700; font-size: 1.1rem; letter-spacing: -.02em;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    .nav-links { display: flex; gap: 2rem; }
    .nav-links a {
      color: var(--text-dim); text-decoration: none; font-size: .9rem; font-weight: 500;
      transition: color .2s;
    }
    .nav-links a:hover { color: var(--text); }
    .nav-cta {
      background: var(--accent); color: #fff !important;
      padding: .4rem 1rem; border-radius: 6px; font-size: .875rem !important;
      transition: opacity .2s !important;
    }
    .nav-cta:hover { opacity: .85; }

    /* â”€â”€ Hero â”€â”€ */
    .hero {
      display: flex; flex-direction: column; align-items: center;
      text-align: center;
      padding: 6rem clamp(1.5rem, 5vw, 4rem) 5rem;
      position: relative; overflow: hidden;
    }
    .hero::before {
      content: '';
      position: absolute; inset: 0;
      background: radial-gradient(ellipse 70% 50% at 50% 0%, rgba(108,142,255,.12) 0%, transparent 70%);
      pointer-events: none;
    }
    .hero-badge {
      display: inline-flex; align-items: center; gap: .5rem;
      background: rgba(108,142,255,.1); border: 1px solid rgba(108,142,255,.25);
      color: var(--accent); padding: .3rem .9rem; border-radius: 999px;
      font-size: .8rem; font-weight: 600; letter-spacing: .04em;
      margin-bottom: 1.75rem;
      animation: fadeUp .6s ease both;
    }
    .hero-badge span { width: 6px; height: 6px; border-radius: 50%; background: var(--accent); }
    .hero h1 {
      font-size: clamp(2.4rem, 6vw, 4rem);
      font-weight: 700; line-height: 1.15; letter-spacing: -.03em;
      max-width: 780px;
      animation: fadeUp .6s .1s ease both;
    }
    .hero h1 em {
      font-style: normal;
      background: linear-gradient(135deg, var(--accent) 0%, var(--accent2) 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    .hero-sub {
      margin-top: 1.25rem; max-width: 560px;
      color: var(--text-dim); font-size: 1.1rem;
      animation: fadeUp .6s .2s ease both;
    }
    .hero-actions {
      display: flex; gap: 1rem; margin-top: 2.25rem; flex-wrap: wrap; justify-content: center;
      animation: fadeUp .6s .3s ease both;
    }
    .btn {
      display: inline-flex; align-items: center; gap: .5rem;
      padding: .75rem 1.5rem; border-radius: 8px;
      font-weight: 600; font-size: .95rem; text-decoration: none;
      transition: transform .15s, opacity .15s;
    }
    .btn:hover { transform: translateY(-1px); opacity: .9; }
    .btn-primary { background: var(--accent); color: #fff; }
    .btn-outline {
      border: 1px solid var(--border); color: var(--text-dim);
      background: var(--surface);
    }

    /* â”€â”€ Stats strip â”€â”€ */
    .stats {
      display: flex; justify-content: center; flex-wrap: wrap; gap: 0;
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
      margin: 0 clamp(1.5rem, 5vw, 4rem);
      animation: fadeUp .6s .4s ease both;
    }
    .stat {
      flex: 1 1 160px;
      display: flex; flex-direction: column; align-items: center;
      padding: 1.75rem 1rem;
      border-right: 1px solid var(--border);
    }
    .stat:last-child { border-right: none; }
    .stat-value {
      font-size: 2rem; font-weight: 700; letter-spacing: -.03em;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    .stat-label { font-size: .8rem; color: var(--muted); margin-top: .2rem; text-align: center; }

    /* â”€â”€ Section â”€â”€ */
    section { padding: 5rem clamp(1.5rem, 5vw, 4rem); max-width: 1100px; margin: 0 auto; }
    .section-tag {
      display: inline-block;
      font-size: .75rem; font-weight: 600; letter-spacing: .08em; text-transform: uppercase;
      color: var(--accent); margin-bottom: .75rem;
    }
    .section-title {
      font-size: clamp(1.6rem, 3.5vw, 2.4rem);
      font-weight: 700; letter-spacing: -.025em; line-height: 1.2;
    }
    .section-sub {
      color: var(--text-dim); margin-top: .75rem; max-width: 560px; font-size: 1rem;
    }

    /* â”€â”€ Features grid â”€â”€ */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1px;
      background: var(--border);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      overflow: hidden;
      margin-top: 3rem;
    }
    .feature-card {
      background: var(--surface);
      padding: 1.75rem;
      transition: background .2s;
    }
    .feature-card:hover { background: #161a24; }
    .feature-icon {
      width: 40px; height: 40px; border-radius: 8px;
      background: rgba(108,142,255,.12);
      display: flex; align-items: center; justify-content: center;
      font-size: 1.2rem; margin-bottom: 1rem;
    }
    .feature-title { font-weight: 600; font-size: 1rem; margin-bottom: .4rem; }
    .feature-desc { color: var(--text-dim); font-size: .9rem; line-height: 1.55; }

    /* â”€â”€ How it works / code â”€â”€ */
    .how-grid {
      display: grid; grid-template-columns: 1fr 1fr; gap: 3rem;
      align-items: start; margin-top: 3rem;
    }
    @media (max-width: 720px) { .how-grid { grid-template-columns: 1fr; } }
    .steps { display: flex; flex-direction: column; gap: 1.5rem; }
    .step { display: flex; gap: 1rem; }
    .step-num {
      flex-shrink: 0;
      width: 28px; height: 28px; border-radius: 50%;
      background: rgba(108,142,255,.15); border: 1px solid rgba(108,142,255,.3);
      color: var(--accent); font-size: .8rem; font-weight: 700;
      display: flex; align-items: center; justify-content: center;
    }
    .step-body h4 { font-size: .95rem; font-weight: 600; margin-bottom: .2rem; }
    .step-body p { color: var(--text-dim); font-size: .9rem; }

    .code-block {
      background: #0a0c10; border: 1px solid var(--border);
      border-radius: var(--radius); overflow: hidden;
    }
    .code-header {
      display: flex; align-items: center; gap: .6rem;
      padding: .7rem 1rem; border-bottom: 1px solid var(--border);
      background: #0d0f14;
    }
    .code-dot { width: 10px; height: 10px; border-radius: 50%; }
    .dot-red   { background: #ff5f57; }
    .dot-amber { background: #febc2e; }
    .dot-green { background: #28c840; }
    .code-filename { font-size: .78rem; color: var(--muted); margin-left: auto; font-family: var(--mono); }
    pre {
      padding: 1.25rem 1.25rem; overflow-x: auto;
      font-family: var(--mono); font-size: .82rem; line-height: 1.7;
      color: #c9d1d9;
    }
    .kw  { color: #79c0ff; }
    .st  { color: #a5d6ff; }
    .cm  { color: #6e7681; font-style: italic; }
    .fn  { color: #d2a8ff; }
    .nu  { color: #f0883e; }
    .ty  { color: #ffa657; }
    .hl  { color: var(--green); }

    /* â”€â”€ Comparison table â”€â”€ */
    .comparison-wrap { overflow-x: auto; margin-top: 2.5rem; }
    table {
      width: 100%; border-collapse: collapse;
      font-size: .9rem;
    }
    thead tr { border-bottom: 1px solid var(--border); }
    th {
      text-align: left; padding: .85rem 1.1rem;
      color: var(--text-dim); font-weight: 600; font-size: .8rem;
      text-transform: uppercase; letter-spacing: .05em;
    }
    th:first-child { color: var(--text); }
    td { padding: .85rem 1.1rem; border-bottom: 1px solid rgba(30,35,48,.6); }
    tr:last-child td { border-bottom: none; }
    td:first-child { color: var(--text-dim); }
    .check { color: var(--green); font-size: 1.1rem; }
    .cross { color: #6b7280; }

    /* â”€â”€ CTA â”€â”€ */
    .cta-section {
      text-align: center;
      padding: 5rem clamp(1.5rem, 5vw, 4rem);
      border-top: 1px solid var(--border);
      position: relative; overflow: hidden;
    }
    .cta-section::before {
      content: '';
      position: absolute; inset: 0;
      background: radial-gradient(ellipse 60% 80% at 50% 100%, rgba(167,139,250,.08) 0%, transparent 70%);
      pointer-events: none;
    }
    .cta-section h2 {
      font-size: clamp(1.8rem, 4vw, 2.8rem);
      font-weight: 700; letter-spacing: -.025em;
    }
    .cta-section p { color: var(--text-dim); margin: 1rem auto 2rem; max-width: 460px; }

    /* â”€â”€ Footer â”€â”€ */
    footer {
      text-align: center; padding: 2rem;
      color: var(--muted); font-size: .8rem;
      border-top: 1px solid var(--border);
    }
    footer a { color: var(--muted); text-decoration: none; }
    footer a:hover { color: var(--text-dim); }

    /* â”€â”€ Animations â”€â”€ */
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(18px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* â”€â”€ Responsive nav â”€â”€ */
    @media (max-width: 600px) {
      .nav-links { display: none; }
    }
  </style>
</head>
<body>

<!-- Nav -->
<nav>
  <span class="nav-logo">ProtoMQ</span>
  <div class="nav-links">
    <a href="#features">Features</a>
    <a href="#how-it-works">How it works</a>
    <a href="#performance">Performance</a>
    <a href="https://github.com/electricalgorithm/protomq" class="nav-cta">GitHub â†—</a>
  </div>
</nav>

<!-- Hero -->
<header class="hero">
  <div class="hero-badge"><span></span>Open Source Â· Written in Zig</div>
  <h1>MQTT that <em>enforces</em> your schemas</h1>
  <p class="hero-sub">
    ProtoMQ is a high-performance MQTT broker that validates every message against a Protobuf schema â€”
    at the broker layer, not in your client code.
  </p>
  <div class="hero-actions">
    <a href="https://github.com/electricalgorithm/protomq" class="btn btn-primary">
      View on GitHub
    </a>
    <a href="FAQ.html" class="btn btn-outline">Read the FAQ</a>
  </div>
</header>

<!-- Stats -->
<div class="stats">
  <div class="stat">
    <span class="stat-value">208k</span>
    <span class="stat-label">msg/s peak throughput</span>
  </div>
  <div class="stat">
    <span class="stat-value">0.44 ms</span>
    <span class="stat-label">p99 latency Â· 100 clients</span>
  </div>
  <div class="stat">
    <span class="stat-value">10,000</span>
    <span class="stat-label">concurrent connections</span>
  </div>
  <div class="stat">
    <span class="stat-value">2.6 MB</span>
    <span class="stat-label">memory Â· 100 clients</span>
  </div>
  <div class="stat">
    <span class="stat-value">0</span>
    <span class="stat-label">memory leaks Â· 100k cycles</span>
  </div>
</div>

<!-- Features -->
<section id="features">
  <span class="section-tag">Why ProtoMQ</span>
  <h2 class="section-title">Schema enforcement that doesn't cost you anything</h2>
  <p class="section-sub">Every feature has a purpose. Nothing is bolted on for marketing.</p>

  <div class="features-grid">
    <div class="feature-card">
      <div class="feature-icon">ðŸ”’</div>
      <div class="feature-title">Broker-layer validation</div>
      <div class="feature-desc">Invalid Protobuf payloads are rejected before they reach any subscriber. No defensive parsing scattered across every client.</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">ðŸ“¡</div>
      <div class="feature-title">Built-in service discovery</div>
      <div class="feature-desc">Clients query <code>$SYS/discovery/request</code> to receive the full <code>.proto</code> source for every topic â€” zero out-of-band coordination.</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">âš¡</div>
      <div class="feature-title">Runtime schema registration</div>
      <div class="feature-desc">POST a new <code>.proto</code> to the Admin API and it is live instantly. No restart, no downtime, no redeployment.</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">ðŸ› </div>
      <div class="feature-title">First-class CLI</div>
      <div class="feature-desc"><code>protomq-cli publish --json '{"temp":22.5}'</code> â€” the CLI encodes JSON into Protobuf automatically before sending.</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">ðŸ“Š</div>
      <div class="feature-title">HTTP Admin API</div>
      <div class="feature-desc">Live metrics, active schemas, and connection counts â€” available at <code>/metrics</code> and <code>/api/v1/schemas</code>.</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">ðŸª¶</div>
      <div class="feature-title">Zero-overhead when not needed</div>
      <div class="feature-desc">The Admin Server is conditionally compiled with <code>-Dadmin_server=true</code>. When disabled, there is literally no code for it in the binary.</div>
    </div>
  </div>
</section>

<!-- How it works -->
<section id="how-it-works">
  <span class="section-tag">How it works</span>
  <h2 class="section-title">From schema to running broker in minutes</h2>
  <p class="section-sub">No config files, no plugins, no runtime dependencies.</p>

  <div class="how-grid">
    <div class="steps">
      <div class="step">
        <div class="step-num">1</div>
        <div class="step-body">
          <h4>Define your schema</h4>
          <p>Drop a standard <code>.proto</code> file into the <code>schemas/</code> directory. ProtoMQ parses it at startup â€” no code generation step required.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">2</div>
        <div class="step-body">
          <h4>Map topics to message types</h4>
          <p>Link a topic pattern to a message type with one line, either in source or via the Admin API at runtime.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">3</div>
        <div class="step-body">
          <h4>Publish with any MQTT client</h4>
          <p>Send a Protobuf-encoded payload over standard MQTT. The broker validates, routes, and forwards â€” any compliant MQTT 3.1.1 client works.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">4</div>
        <div class="step-body">
          <h4>Bootstrap new clients automatically</h4>
          <p>New subscribers query the discovery topic to receive the <code>.proto</code> source inline â€” no shared file-system or separate schema registry needed.</p>
        </div>
      </div>
    </div>

    <div class="code-block">
      <div class="code-header">
        <div class="code-dot dot-red"></div>
        <div class="code-dot dot-amber"></div>
        <div class="code-dot dot-green"></div>
        <span class="code-filename">schemas/sensor.proto</span>
      </div>
      <pre><span class="kw">syntax</span> = <span class="st">"proto3"</span>;
<span class="kw">package</span> iot.sensor;

<span class="kw">message</span> <span class="ty">SensorData</span> {
  <span class="kw">string</span>  device_id   = <span class="nu">1</span>;
  <span class="kw">float</span>   temperature = <span class="nu">2</span>;
  <span class="kw">float</span>   humidity    = <span class="nu">3</span>;
  <span class="kw">uint64</span>  timestamp   = <span class="nu">4</span>;
}</pre>
      <div class="code-header" style="border-top:1px solid var(--border);border-bottom:none;">
        <div class="code-dot dot-red"></div>
        <div class="code-dot dot-amber"></div>
        <div class="code-dot dot-green"></div>
        <span class="code-filename">terminal</span>
      </div>
      <pre><span class="cm"># Publish â€” CLI encodes JSON â†’ Protobuf</span>
<span class="hl">$</span> protomq-cli publish \
    -t sensor/data \
    --json <span class="st">'{"device_id":"pi5","temperature":21.3}'</span>

<span class="cm"># Bootstrap a new client</span>
<span class="hl">$</span> protomq-cli discover --proto-dir schemas

<span class="cm"># Register a schema at runtime (no restart)</span>
<span class="hl">$</span> curl -X POST http://127.0.0.1:8080/api/v1/schemas \
    -H <span class="st">"Authorization: Bearer $ADMIN_TOKEN"</span> \
    -d <span class="st">'{"topic":"telemetry/gps","message_type":"GpsCoord","proto_file_content":"..."}'</span></pre>
    </div>
  </div>
</section>

<!-- Comparison -->
<section>
  <span class="section-tag">Compared to alternatives</span>
  <h2 class="section-title">Plain MQTT + custom binary vs ProtoMQ</h2>
  <p class="section-sub">Everything you were building yourself â€” already done.</p>

  <div class="comparison-wrap">
    <table>
      <thead>
        <tr>
          <th>Concern</th>
          <th>Plain MQTT + hand-rolled binary</th>
          <th>ProtoMQ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Schema definition</td>
          <td>Ad-hoc, lives in docs or code comments</td>
          <td><span class="check">âœ“</span> Canonical <code>.proto</code> files</td>
        </tr>
        <tr>
          <td>Consumer bootstrap</td>
          <td>Pre-shared files, out-of-band coordination</td>
          <td><span class="check">âœ“</span> Built-in service discovery topic</td>
        </tr>
        <tr>
          <td>Payload validation</td>
          <td>Manual, silently fails on mismatch</td>
          <td><span class="check">âœ“</span> Rejected at the broker before delivery</td>
        </tr>
        <tr>
          <td>CLI tooling</td>
          <td>Write your own encoder</td>
          <td><span class="check">âœ“</span> <code>protomq-cli</code> with JSON â†’ Protobuf</td>
        </tr>
        <tr>
          <td>Runtime schema changes</td>
          <td>Requires redeployment of all producers</td>
          <td><span class="check">âœ“</span> HTTP Admin API, live with no restart</td>
        </tr>
        <tr>
          <td>Observability</td>
          <td>None built in</td>
          <td><span class="check">âœ“</span> <code>/metrics</code> endpoint</td>
        </tr>
        <tr>
          <td>Binary size overhead</td>
          <td>Zero (you write it all)</td>
          <td><span class="check">âœ“</span> ~2.6 MB memory baseline</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<!-- Performance -->
<section id="performance">
  <span class="section-tag">Performance</span>
  <h2 class="section-title">Runs fast everywhere â€” including the Pi</h2>
  <p class="section-sub">Benchmarked against both high-end and severely resource-constrained hardware.</p>

  <div class="comparison-wrap" style="margin-top:2.5rem">
    <table>
      <thead>
        <tr>
          <th>Scenario</th>
          <th>Apple M2 Pro</th>
          <th>Raspberry Pi 5</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>p99 latency Â· 100 clients</td>
          <td>0.44 ms</td>
          <td>0.13 ms</td>
        </tr>
        <tr>
          <td>Concurrent connections</td>
          <td>10,000</td>
          <td>10,000</td>
        </tr>
        <tr>
          <td>Sustained throughput</td>
          <td>9,000 msg/s</td>
          <td>9,000 msg/s</td>
        </tr>
        <tr>
          <td>Peak throughput (small msgs)</td>
          <td>208,000 msg/s</td>
          <td>147,000 msg/s</td>
        </tr>
        <tr>
          <td>Memory Â· 100 clients</td>
          <td>2.6 MB</td>
          <td>2.5 MB</td>
        </tr>
        <tr>
          <td>Memory leaks Â· 100k cycles</td>
          <td>0</td>
          <td>0</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<!-- CTA -->
<div class="cta-section">
  <h2>Ready to stop writing encoders by hand?</h2>
  <p>ProtoMQ is MIT-licensed, single-binary, and runs on Linux and macOS today.</p>
  <div style="display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;">
    <a href="https://github.com/electricalgorithm/protomq" class="btn btn-primary">Get started on GitHub</a>
    <a href="FAQ.html" class="btn btn-outline">Read the FAQ</a>
  </div>
</div>

<!-- Footer -->
<footer>
  <p>Built with <a href="https://ziglang.org/">Zig</a> Â· MIT License Â·
  <a href="https://github.com/electricalgorithm/protomq">github.com/electricalgorithm/protomq</a></p>
</footer>

</body>
</html>
